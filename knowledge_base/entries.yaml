# alla — глобальная база знаний (общие записи для всех проектов)
#
# Формат: YAML-список записей.
# Поля:
#   id               — уникальный slug записи
#   title            — краткое название проблемы
#   description      — подробное описание
#   error_example    — пример ошибки из лога (используется для нечёткого TF-IDF сопоставления)
#   category         — категория причины: test | service | env | data
#   resolution_steps — шаги по устранению
#
# Проектные записи хранятся в файлах project_{id}.yaml (создаются автоматически).

- id: connection_timeout
  title: "Таймаут подключения к сервису"
  description: "Тесты не могут установить TCP-соединение с целевым сервисом. Сервис не запущен или недоступен по сети."
  error_example: |
    java.net.SocketTimeoutException: Connect timed out
        at java.net.Socket.connect(Socket.java:601)
        at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
    Caused by: Connection timed out connecting to service-endpoint:8080
  category: env
  resolution_steps:
    - "Проверить доступность сервиса: curl -v <service-url>"
    - "Проверить, что сервис запущен и прошёл health-check"

- id: null_pointer_exception
  title: "NullPointerException в коде приложения"
  description: "Приложение выбрасывает NullPointerException — дефект в коде сервиса, объект не инициализирован."
  error_example: |
    java.lang.NullPointerException: Cannot invoke method on null object reference
        at com.company.service.UserService.getUser(UserService.java:45)
        at com.company.controller.UserController.handleRequest(UserController.java:112)
  category: service
  resolution_steps:
    - "Определить, какой объект оказался null (см. стек-трейс)"
    - "Создать баг-репорт с точным стеком и шагами воспроизведения"
